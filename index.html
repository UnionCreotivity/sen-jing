<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="./css/all.css" />
    <title>森景建設</title>
  </head>
  <body>
    <div class="loading-page">
      <div class="box-logo">
        <img src="./img/logo.svg" alt="" />
      </div>
      <div class="box-para">
        <div class="loading-progress">0</div>
        <span>%</span>
      </div>
    </div>
    <main id="home">
      <article class="article-1">
        <div class="article-1-container">
          <div class="article-1-left">
            <img src="./img/left.webp" alt="" />
            <div class="article-1-left-txt">
              <img
                class="img-txt txt-1"
                data-img="1"
                src="./img/article-1-left-txt.svg"
                alt=""
              />
              <img
                class="img-txt txt-2"
                data-img="2"
                src="./img/txt-2.svg"
                alt=""
              />
              <img
                class="img-txt txt-3"
                data-img="3"
                src="./img/txt-3.svg"
                alt=""
              />
            </div>
          </div>
          <div class="article-1-right">
            <div class="article-1-right-squre">
              <div class="article-1-right-squre-item"></div>
              <div class="article-1-right-squre-item"></div>
              <div class="article-1-right-squre-item"></div>
            </div>
            <div class="article-1-swiper">
              <div class="swiper-wrapper">
                <div class="swiper-slide">
                  <video
                    src="./video/輪播圖-1.mp4"
                    loop
                    autoplay
                    muted
                    playsinline
                  ></video>
                  <div class="article-1-right-txt">
                    <img src="./img/SEN-VIEW.webp" alt="" />
                  </div>
                </div>
                <div class="swiper-slide">
                  <img src="./img/輪播圖2.webp" alt="" />
                  <div class="article-1-right-txt">
                    <img src="./img/SEN-VIEW.webp" alt="" />
                  </div>
                </div>
                <div class="swiper-slide">
                  <img src="./img/輪播圖-3.png" alt="" />
                  <div class="article-1-right-txt">
                    <img src="./img/SEN-VIEW.webp" alt="" />
                  </div>
                </div>
              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div>
        </div>
      </article>
      <article class="article-2">
        <div class="article-2-container">
          <div class="article-2-txt">
            <div class="article-2-txt-1">
              <img src="./img/article2-txt-1.svg" alt="" />
            </div>
            <div class="article-2-txt-2">
              <img src="./img/article2-txt-2.svg" alt="" />
            </div>
            <div class="article-2-txt-3">
              <img src="./img/article2-txt-3.svg" alt="" />
            </div>
          </div>
          <div class="article-2-img">
            <img src="./img/article2-bg@2x.webp" alt="" />
          </div>
        </div>
      </article>
      <article class="article-3">
        <div class="article-3-container">
          <div class="article-3-left">
            <div class="article-3-left-top">
              <div class="article-3-left-top-small">
                <img src="./img/article-3-small-title.svg" alt="" />
              </div>
              <div class="article-3-left-top-big">
                <div class="article-3-left-top-big-title">
                  <img src="./img/article-3-title.svg" alt="" />
                </div>
              </div>
            </div>
            <div class="article-3-left-bottom">
              <img src="./img/article-3-para.svg" alt="" />
            </div>
            <div class="article-3-left-top-big-more">
              <img src="./img/article-3-more.svg" alt="" />
            </div>
          </div>
          <div class="article-3-right">
            <img src="./img/article-3-right-img.webp" alt="" />
          </div>
        </div>
      </article>
      <article class="article-4">
        <div class="article-4-container">
          <section class="article-4-left">
            <div class="article-4-left-img article-4-img-1">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-1@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-2">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-2@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-3">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-3@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-4">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-4@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-5">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-5@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-6">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-6@2x.webp" alt="" />
            </div>
            <div class="article-4-left-img article-4-img-7">
              <div class="article-4-left-img-para">
                <img src="./img/article-4-left-img-para@2x.webp" alt="" />
              </div>
              <div class="article-4-left-img-back"></div>
              <img src="./img/article-4-left-img-7@2x.webp" alt="" />
            </div>
          </section>
          <section class="article-4-right">
            <div class="article-4-right-container">
              <div class="article-4-right-text-re">
                <div class="article-4-right-text-bottom">
                  <div class="text-news">
                    <img src="./img/news.svg" alt="" />
                  </div>
                  <div class="text-more">
                    <img src="./img/article-3-more.svg" alt="" />
                  </div>
                </div>
                <div class="text-latest">
                  <img src="./img/latest.svg" alt="" />
                </div>
                <div class="text-last-zh">
                  <img src="./img/last-zh.svg" alt="" />
                </div>
              </div>
            </div>
          </section>
        </div>
      </article>
      <div class="footer"><img src="./img/Footer.png" alt="" /></div>
    </main>
    <script src="./js/jquery-3.7.1.min.js"></script>
    <script src="./js/gsap.min.js"></script>
    <script src="./js/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="./js/loading.js"></script>
    <script>
      $(window).on("load", function () {
        gsap.registerPlugin(ScrollTrigger);
        document.scrollingElement.scrollTop = 0;
        document.body.style.overflow = "hidden";

        //輪播
        const cut1Swiper = () => {
          const swiper = new Swiper(".article-1-swiper", {
            slidesPerView: 1,
            spaceBetween: 50,
            speed: 1500,
            autoplay: {
              delay: 6000,
              disableOnInteraction: false,
            },
            loop: true,
            // navigation: {
            //   nextEl: ".swiper-button-next",
            //   prevEl: ".swiper-button-prev",
            // },
            effect: "fade",
            pagination: {
              el: ".swiper-pagination",
              clickable: true,
              type: "bullets",
              bulletClass: "swiper-page-top-inactive",
              bulletActiveClass: "swiper-page-top-active",
              renderBullet: function (index, className) {
                const indexPlus = index + 1;
                return `<span class="${className}" data-tag="${indexPlus}"><span></span>0${indexPlus}</span>`;
              },
            },
            fadeEffect: {
              crossFade: true,
            },
            on: {
              slideChange: function (swiper) {
                const realIndex = swiper.realIndex + 1;
                const bullets = $(".swiper-page-top-inactive");
                const txtElement = $(".img-txt");
                txtElement.each(function () {
                  $(this).removeClass("txt-active");
                  $(this).removeClass("txt-inactive");
                  const imgTag = $(this).data("img");
                  if (imgTag === realIndex) {
                    $(this).addClass("txt-active");
                  } else {
                    $(this).addClass("txt-inactive");
                  }
                });
              },
            },
          });
        };

        cut1Swiper();

        //動畫
        const article1Ani = () => {
          const tl = gsap.timeline({ delay: 0.5 });
          const tl_second = gsap.timeline({
            scrollTrigger: {
              trigger: ".article-1-left",
              start: "top top",
              bottom: "bottom bottom",
              scrub: 1,
            },
          });
          tl.to(".article-1-left-txt", {
            opacity: 1,
            duration: 3,
          }).to(
            ".article-1-right-squre-item",
            {
              x: "-105%",
              stagger: 0.1,
              ease: "power4.out",
              duration: 1.5,
              onComplete: () => {
                document.body.style.overflow = "";
                tl_second
                  .to(".article-1-right-squre-item:nth-child(1)", {
                    x: "-10%",
                    ease: "power4.out",
                    duration: 1.5,
                  })
                  .to(
                    ".article-1-right-squre-item:nth-child(2)",
                    {
                      x: "-20%",
                      ease: "power4.out",
                      duration: 1.5,
                    },
                    "<+0.05"
                  )
                  .to(
                    ".article-1-right-squre-item:nth-child(3)",
                    {
                      x: "-30%",
                      ease: "power4.out",
                      duration: 1.5,
                    },
                    "<+0.05"
                  );
                // gsap.to(".article-1-right-squre-item",{
                //   scrollTrigger:{
                //     trigger:".article-1-container",
                //     start:"top top",
                //     bottom:'bottom bottom',
                //     markers:true,
                //     scrub:1,
                //   },
                //   x: "0%",
                //   stagger: 0.1,
                //   ease: "power4.out",
                //   duration: 1.5,
                // })
              },
            },
            "<+0.5"
          );
        };
        article1Ani();

        const article1Pin = () => {
          gsap.to(".article-1-container", {
            scrollTrigger: {
              trigger: ".article-1",
              start: "top top",
              end: "bottom top",
              pin: true,
              pinSpacing: false,
            },
          });
        };

        article1Pin();

        const article2Ani = () => {
          const tl = gsap.timeline({
            scrollTrigger: {
              trigger: ".article-2",
              start: "top top",
              end: "bottom+=175% bottom",
              scrub: 1,
              pin: true,
              pinSpacing: true,
            },
          });
          tl.to(".article-2-container ", {
            borderRadius: "0px 0px 0px 0px",
            scale: "0.8",
            duration: 1,
          })
            .from(
              ".article-2-txt-2",
              {
                opacity: 0,
                duration: 1,
              },
              "<+1"
            )
            .from(".article-2-txt-1", {
              y: "-20%",
              duration: 1,
            })
            .from(
              ".article-2-txt-3",
              {
                y: "70%",
                duration: 1,
              },
              "<"
            )
            .to(".article-2-txt", {
              opacity: 1,
              duration: 1,
            })
            .to(".article-2-txt-2", {
              opacity: 0,
              duration: 1,
            })
            .to(".article-2-txt-1", {
              y: "-20%",
              duration: 1,
            })
            .to(
              ".article-2-txt-3",
              {
                y: "70%",
                duration: 1,
              },
              "<"
            )
            .to(".article-2-container", {
              borderRadius: "400px 400px 400px 400px",
              scale: "0.25",
              duration: 1,
            });
        };

        article2Ani();

        const article3Ani = () => {
          const tl = gsap.timeline({
            scrollTrigger: {
              trigger: ".article-3",
              start: "center bottom",
              end: "75% bottom",
              scrub: 1,
            },
          });
          tl.from(".article-3-left-top-big-title img", {
            y: "105%",
            skewX: "-45deg",
            ease: "power4.out",
            duration: 1,
          }).from(
            ".article-3-left-top-small,.article-3-left-top-big-more",
            {
              opacity: 0,
              duration: 1.25,
            },
            "<+0.5"
          );
          // gsap.from(".article-3-img img", {
          //   scrollTrigger: {
          //     trigger: ".article-3",
          //     start: "35% bottom",
          //   },
          //   opacity: 0,
          //   duration: 1.5,
          // });
        };

        article3Ani();

        const article4Ani = () => {
          const tl = gsap
            .timeline({
              scrollTrigger: {
                trigger: ".article-4-container",
                start: "center bottom",
              },
            })
            .from(".text-latest img,.text-news img", {
              x: "-105%",
              skewY: "30deg",
              opacity: 0,
              stagger: "0.25",
              duration: 1,
            })
            .from(
              ".text-more,.text-last-zh",
              {
                opacity: 0,
                duration: 1.25,
              },
              "<+0.5"
            );
          tl.from(
            ".article-4-left-img-back",
            {
              opacity: 0,
              duration: 0.5,
            },
            "<+0.25"
          )
            .to(
              ".article-4-left-img>img",
              {
                x: "0%",
                stagger: 0.1,
                duration: 0.75,
              },
              "<+0.1"
            )
            .to(
              ".article-4-left-img-back",
              {
                opacity: 1,
                duration: 0.5,
                onComplete: () => {
                  const tl = gsap.timeline({
                    scrollTrigger: {
                      trigger: ".article-4-container",
                      start: "25% bottom",
                      end: "80% bottom",
                      scrub: 1,
                    },
                  });
                  tl.from(".text-latest img,.text-news img", {
                    x: "-105%",
                    skewY: "30deg",
                    opacity: 0,
                    stagger: "0.25",
                    duration: 1,
                  }).from(
                    ".text-more,.text-last-zh",
                    {
                      opacity: 0,
                      duration: 1.25,
                    },
                    "<+0.5"
                  );
                },
              },
              "<+0.25"
            );
        };
        article4Ani();
      });
    </script>
  </body>
</html>
